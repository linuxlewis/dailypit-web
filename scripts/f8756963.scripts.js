"use strict";angular.module("dailyPitApp",["ngCookies","ngResource","ngSanitize","ngRoute","restangular","config"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/main.html",controller:"MainCtrl"}).when("/posts/:slug",{templateUrl:"/views/post.html",controller:"PostCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]).run(["Restangular","API_URL",function(a,b){a.setBaseUrl(b),a.setRequestSuffix("/")}]),angular.module("dailyPitApp").controller("MainCtrl",["$scope","postsService",function(a,b){a.posts=[],a.loading=!0,b.getList().then(function(b){a.posts=b,a.loading=!1})}]),angular.module("dailyPitApp").controller("PostCtrl",["$scope","$location","postsService",function(a,b,c){var d=b.path(),e=d.substr(d.lastIndexOf("/")+1);c.getBySlug(e).then(function(b){a.post=b})}]),angular.module("dailyPitApp").service("postsService",["Restangular","$sce","$q",function(a,b,c){var d=this,e=a.all("posts");return d.getBySlug=function(a){var b=function(){for(var b=c.defer(),e=0;e<d.posts.length;e++)d.posts[e].slug==a&&b.resolve(d.posts[e]);return b.reject("bye felicia"),b.promise};return d.post?b():d.getList().then(function(){return b()})},d.getList=function(){var a=function(a){for(var c=0;c<a.length;c++)a[c].youtube_url=b.trustAsResourceUrl(a[c].youtube_url)};if(!d.posts)return e.getList().then(function(b){return a(b),d.posts=b,b});var f=c.defer();return f.resolve(d.posts),f.promise},d}]),angular.module("config",[]).constant("ENV","production").constant("API_URL","http://dailypit-api.herokuapp.com/");